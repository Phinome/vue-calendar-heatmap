var VueCalendarHeatmap=function(t,e){"use strict";function n(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],a=!0,o=!1,r=void 0;try{for(var i,s=t[Symbol.iterator]();!(a=(i=s.next()).done)&&(n.push(i.value),!e||n.length!==e);a=!0);}catch(t){o=!0,r=t}finally{try{a||null==s.return||s.return()}finally{if(o)throw r}}return n}(t,e)||r(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||r(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}var s=["#ebedf0","#f5f6f7","#D6E8FF","#3370ff","#1237B3","#041466"],l={months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],on:"on",tooltipUnit:"contributions",tooltipEmptyUnit:"No "},c=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.values=e,this.max=n||Math.ceil(Math.max.apply(Math,o(e.map((function(t){return t.count}))))/5*4),e.length?(this.startDate=this._parseDate(e[0].date),this.endDate=this._parseDate(e[e.length-1].date)):(this.startDate=this._shiftDate(new Date,-365),this.endDate=new Date)}var e,a,r;return e=t,(a=[{key:"getColorIndex",value:function(t){return null==t||void 0===t?0:t<=0?1:t>=this.max?5:Math.ceil(100*t/this.max*.03)+1}},{key:"getCountEmptyDaysAtStart",value:function(){return this.startDate.getDay()}},{key:"getCountEmptyDaysAtEnd",value:function(){return 6-this.endDate.getDay()}},{key:"getDaysCount",value:function(){return this.values.length}},{key:"_shiftDate",value:function(t,e){var n=new Date(t);return n.setDate(n.getDate()+e),n}},{key:"_parseDate",value:function(t){return t instanceof Date?t:new Date(t)}},{key:"_keyDayParser",value:function(t){var e=this._parseDate(t);return"".concat(e.getFullYear(),"-").concat(e.getMonth(),"-").concat(e.getDate())}},{key:"activities",get:function(){var t=this;return this.values.reduce((function(e,n){return e[t._keyDayParser(n.date)]={count:n.count,colorIndex:t.getColorIndex(n.count)},e}),{})}},{key:"weekCount",get:function(){var t=this.getDaysCount()/7;return this.getDaysCount()%7==0?t:t+1}},{key:"calendar",get:function(){var t=this,e=new Date(this.startDate);return Array.from({length:this.weekCount},(function(){return Array.from({length:7},(function(){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),a=t.activities[t._keyDayParser(n)];return e.setDate(e.getDate()+1),{date:n,count:a?a.count:null,colorIndex:a?a.colorIndex:0}}))}))}},{key:"firstFullWeekOfMonths",get:function(){return this.calendar.reduce((function(t,e,n,a){if(n>0){var o=a[n-1][0].date,r=e[0].date;(o.getFullYear()<r.getFullYear()||o.getMonth()<r.getMonth())&&t.push({value:r.getMonth(),index:n})}else t.push({value:e[0].date.getMonth(),index:0});return t}),[])}}])&&n(e.prototype,a),r&&n(e,r),t}(),p={name:"CalendarHeatmap",directives:{tooltip:e.VTooltip},props:{max:{type:Number},rangeColor:{type:Array,default:function(){return s}},values:{required:!0,type:Array},locale:{type:Object},tooltip:{type:Boolean,default:!0},vertical:{type:Boolean,default:!1},noDataText:{type:String,default:null},isAutoFillWeek:{type:Boolean,default:!1}},data:function(){return{clickedIndex:-1}},computed:{position:function(){return this.vertical?"vertical":"horizontal"},tooltipTransform:function(){return"translate(".concat(this.tooltipX,", ").concat(this.tooltipY,")")},heatmap:function(){return new c(this.values,this.max)},width:function(){return{horizontal:this.LEFT_SECTION_WIDTH+this.SQUARE_SIZE*this.heatmap.weekCount+this.SQUARE_BORDER_SIZE,vertical:this.LEFT_SECTION_WIDTH+7*this.SQUARE_SIZE+this.RIGHT_SECTION_WIDTH}},heigth:function(){return{horizontal:this.TOP_SECTION_HEIGTH+7*this.SQUARE_SIZE+this.SQUARE_BORDER_SIZE+this.BOTTOM_SECTION_HEIGTH,vertical:this.TOP_SECTION_HEIGTH+this.SQUARE_SIZE*this.heatmap.weekCount+this.SQUARE_BORDER_SIZE}},viewbox:function(){return"0 0 ".concat(this.width[this.position]," ").concat(this.heigth[this.position])},daysLabelWrapperTransform:function(){return{horizontal:"translate(0, ".concat(this.TOP_SECTION_HEIGTH,")"),vertical:"translate(".concat(this.LEFT_SECTION_WIDTH,", 0)")}},monthsLabelWrapperTransform:function(){return{horizontal:"translate(".concat(this.LEFT_SECTION_WIDTH,", 0)"),vertical:"translate(0, ".concat(this.TOP_SECTION_HEIGTH,")")}},legendWrapperTransform:function(){return{horizontal:"translate(".concat(this.width[this.position]-this.SQUARE_SIZE*this.rangeColor.length-30,", ").concat(this.heigth[this.position]-this.BOTTOM_SECTION_HEIGTH,")"),vertical:"translate(".concat(this.LEFT_SECTION_WIDTH+7*this.SQUARE_SIZE,", ").concat(this.TOP_SECTION_HEIGTH,")")}},yearWrapperTransform:function(){return"translate(".concat(this.LEFT_SECTION_WIDTH,", ").concat(this.TOP_SECTION_HEIGTH,")")},SQUARE_BORDER_SIZE:function(){return 2},SQUARE_SIZE:function(){return 10+this.SQUARE_BORDER_SIZE},TOP_SECTION_HEIGTH:function(){return 1.8*this.SQUARE_SIZE},RIGHT_SECTION_WIDTH:function(){return 3*this.SQUARE_SIZE},BOTTOM_SECTION_HEIGTH:function(){return 15},LEFT_SECTION_WIDTH:function(){return Math.ceil(25)},lo:function(){return this.locale?{months:this.locale.months||l.months,days:this.locale.days||l.days,on:this.locale.on||l.on,tooltipUnit:this.locale.tooltipUnit||l.tooltipUnit,tooltipEmptyUnit:this.locale.tooltipEmptyUnit||l.tooltipEmptyUnit}:l},startDayIndex:function(){return(this.heatmap.startDate.getDate()+1)%7}},watch:{values:{handler:function(){this.clickedIndex=-1},immediate:!0}},methods:{getDateIndex:function(t){return(this.heatmap.startDate.getDay()+t)%7},handleSquareClick:function(t,e){this.clickedIndex===e?this.clickedIndex=-1:this.clickedIndex=e,this.$emit("day-click",t)},tooltipOptions:function(t){var e="<b>".concat(t.count?[t.count,this.lo.tooltipUnit].join(" "):[this.lo.tooltipEmptyUnit,this.lo.tooltipUnit].join(""),"</b> ").concat(this.lo.on," ").concat(t.date.getFullYear(),"-").concat(t.date.getMonth()+1,"-").concat(t.date.getDate());if(this.tooltip){if(null!=t.count)return{content:e,delay:{show:300,hide:50}};if(this.noDataText)return{content:"".concat(this.noDataText),delay:{show:300,hide:50}}}return!1},getFilterWeek:function(t){return this.isAutoFillWeek?t:t.filter((function(t){return t.date<=new Date}))},getWeekPosition:function(t){return this.vertical?"translate(0, ".concat(this.SQUARE_SIZE*this.heatmap.weekCount-(t+1)*this.SQUARE_SIZE,")"):"translate(".concat(t*this.SQUARE_SIZE,", 0)")},getDayPosition:function(t){return this.vertical?"translate(".concat(t*this.SQUARE_SIZE,", 0)"):"translate(0, ".concat(t*this.SQUARE_SIZE,")")},getMonthLabelPostion:function(t){var e={x:0,y:0};return e.x=this.vertical?3:this.SQUARE_SIZE*t.index,e.y=this.vertical?this.SQUARE_SIZE*this.heatmap.weekCount-this.SQUARE_SIZE*t.index-this.SQUARE_SIZE/4:this.SQUARE_SIZE-this.SQUARE_BORDER_SIZE,e}}};function u(t,e,n,a,o,r,i,s,l,c){"boolean"!=typeof i&&(l=s,s=i,i=!1);const p="function"==typeof n?n.options:n;let u;if(t&&t.render&&(p.render=t.render,p.staticRenderFns=t.staticRenderFns,p._compiled=!0,o&&(p.functional=!0)),a&&(p._scopeId=a),r?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(r)},p._ssrRegister=u):e&&(u=i?function(t){e.call(this,c(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,s(t))}),u)if(p.functional){const t=p.render;p.render=function(e,n){return u.call(n),t(e,n)}}else{const t=p.beforeCreate;p.beforeCreate=t?[].concat(t,u):[u]}return n}const h="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function _(t){return(t,e)=>function(t,e){const n=h?e.media||"default":t,a=f[n]||(f[n]={ids:new Set,styles:[]});if(!a.ids.has(t)){a.ids.add(t);let n=e.source;if(e.map&&(n+="\n/*# sourceURL="+e.map.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e.map))))+" */"),a.element||(a.element=document.createElement("style"),a.element.type="text/css",e.media&&a.element.setAttribute("media",e.media),void 0===d&&(d=document.head||document.getElementsByTagName("head")[0]),d.appendChild(a.element)),"styleSheet"in a.element)a.styles.push(n),a.element.styleSheet.cssText=a.styles.filter(Boolean).join("\n");else{const t=a.ids.size-1,e=document.createTextNode(n),o=a.element.childNodes;o[t]&&a.element.removeChild(o[t]),o.length?a.element.insertBefore(e,o[t]):a.element.appendChild(e)}}}(t,e)}let d;const f={};var m=u({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{staticClass:"vch__wrapper",attrs:{viewBox:t.viewbox}},[n("g",{staticClass:"vch__months__labels__wrapper",attrs:{transform:t.monthsLabelWrapperTransform[t.position]}},t._l(t.heatmap.firstFullWeekOfMonths,(function(e,a){return n("text",{key:a,staticClass:"vch__month__label",attrs:{x:t.getMonthLabelPostion(e).x,y:t.getMonthLabelPostion(e).y}},[t._v("\n      "+t._s(t.lo.months[e.value])+"\n    ")])})),0),t._v(" "),n("g",{staticClass:"vch__days__labels__wrapper",attrs:{transform:t.daysLabelWrapperTransform[t.position]}},[n("text",{staticClass:"vch__day__label",attrs:{x:t.vertical?1*t.SQUARE_SIZE:0,y:t.vertical?t.SQUARE_SIZE-t.SQUARE_BORDER_SIZE:18}},[t._v("\n      "+t._s(t.lo.days[t.getDateIndex(1)])+"\n    ")]),t._v(" "),n("text",{staticClass:"vch__day__label",attrs:{x:t.vertical?3*t.SQUARE_SIZE:0,y:t.vertical?t.SQUARE_SIZE-t.SQUARE_BORDER_SIZE:42}},[t._v("\n      "+t._s(t.lo.days[t.getDateIndex(3)])+"\n    ")]),t._v(" "),n("text",{staticClass:"vch__day__label",attrs:{x:t.vertical?5*t.SQUARE_SIZE:0,y:t.vertical?t.SQUARE_SIZE-t.SQUARE_BORDER_SIZE:67}},[t._v("\n      "+t._s(t.lo.days[t.getDateIndex(5)])+"\n    ")])]),t._v(" "),n("g",{class:["vch__year__wrapper",-1!==this.clickedIndex?"vch__days__selected":""],attrs:{transform:t.yearWrapperTransform}},t._l(t.heatmap.calendar,(function(e,a){return n("g",{key:a,staticClass:"vch__month__wrapper",attrs:{transform:t.getWeekPosition(a)}},t._l(t.getFilterWeek(e),(function(e,o){return n("rect",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.tooltipOptions(e),expression:"tooltipOptions(day)"}],key:o,class:["vch__day__square",t.clickedIndex===""+(10*a+o)?"vch__day__square__actived":""],style:{fill:t.rangeColor[e.colorIndex]},attrs:{transform:t.getDayPosition(o),width:t.SQUARE_SIZE-t.SQUARE_BORDER_SIZE,height:t.SQUARE_SIZE-t.SQUARE_BORDER_SIZE},on:{click:function(n){return t.handleSquareClick(e.date,""+(10*a+o))}}})})),0)})),0)])},staticRenderFns:[]},(function(t){t&&(t("data-v-881ae6c6_0",{source:"div.vch__container[data-v-881ae6c6]{position:relative}svg.vch__wrapper[data-v-881ae6c6]{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;line-height:10px}svg.vch__wrapper .vch__months__labels__wrapper text.vch__month__label[data-v-881ae6c6]{font-size:8px}svg.vch__wrapper .vch__days__labels__wrapper text.vch__day__label[data-v-881ae6c6]{font-size:8px}svg.vch__wrapper .vch__days__labels__wrapper text.vch__day__label[data-v-881ae6c6],svg.vch__wrapper .vch__months__labels__wrapper text.vch__month__label[data-v-881ae6c6]{fill:#767676}svg.vch__wrapper rect.vch__day__square[data-v-881ae6c6]:focus{outline:0}svg.vch__wrapper g.vch__days__selected rect[data-v-881ae6c6]{opacity:.5}svg.vch__wrapper g.vch__year__wrapper rect.vch__day__square__actived[data-v-881ae6c6]{opacity:1}",map:void 0,media:void 0}),t("data-v-881ae6c6_1",{source:".vue-tooltip-theme.tooltip{display:block!important;z-index:10000}.vue-tooltip-theme.tooltip .tooltip-inner{background:rgba(0,0,0,.7);border-radius:3px;color:#ebedf0;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;font-size:12px;line-height:16px;padding:14px 10px}.vue-tooltip-theme.tooltip .tooltip-inner b{color:#fff}.vue-tooltip-theme.tooltip .tooltip-arrow{width:0;height:0;border-style:solid;position:absolute;margin:5px;border-color:#000;z-index:1}.vue-tooltip-theme.tooltip[x-placement^=top]{margin-bottom:5px}.vue-tooltip-theme.tooltip[x-placement^=top] .tooltip-arrow{border-width:5px 5px 0 5px;border-left-color:transparent!important;border-right-color:transparent!important;border-bottom-color:transparent!important;bottom:-5px;left:calc(50% - 5px);margin-top:0;margin-bottom:0}.vue-tooltip-theme.tooltip[x-placement^=bottom]{margin-top:5px}.vue-tooltip-theme.tooltip[x-placement^=bottom] .tooltip-arrow{border-width:0 5px 5px 5px;border-left-color:transparent!important;border-right-color:transparent!important;border-top-color:transparent!important;top:-5px;left:calc(50% - 5px);margin-top:0;margin-bottom:0}.vue-tooltip-theme.tooltip[x-placement^=right]{margin-left:5px}.vue-tooltip-theme.tooltip[x-placement^=right] .tooltip-arrow{border-width:5px 5px 5px 0;border-left-color:transparent!important;border-top-color:transparent!important;border-bottom-color:transparent!important;left:-5px;top:calc(50% - 5px);margin-left:0;margin-right:0}.vue-tooltip-theme.tooltip[x-placement^=left]{margin-right:5px}.vue-tooltip-theme.tooltip[x-placement^=left] .tooltip-arrow{border-width:5px 0 5px 5px;border-top-color:transparent!important;border-right-color:transparent!important;border-bottom-color:transparent!important;right:-5px;top:calc(50% - 5px);margin-left:0;margin-right:0}.vue-tooltip-theme.tooltip[aria-hidden=true]{visibility:hidden;opacity:0;transition:opacity .15s,visibility .15s}.vue-tooltip-theme.tooltip[aria-hidden=false]{visibility:visible;opacity:1;transition:opacity .15s}",map:void 0,media:void 0}))}),p,"data-v-881ae6c6",false,undefined,!1,_,void 0,void 0),v=Object.freeze({__proto__:null,VueCalendarHeatmap:m}),y={install:function t(e){t.installed||(t.installed=!0,Object.entries(v).forEach((function(t){var n=a(t,2),o=n[0],r=n[1];e.component(o,r)})))}},E=null;return"undefined"!=typeof window?E=window.Vue:"undefined"!=typeof global&&(E=global.Vue),E&&E.use(y),t.VueCalendarHeatmap=m,t.default=y,t}({},VTooltip);